{"version":3,"sources":["utils/bemnames.js","components/Layout/Header.js","components/Layout/Sidebar.js","components/Layout/Content.js","components/Layout/Footer.js","base.js","components/Typography.js","utils/propTypes.js","components/Page.js","pages/ThreePage.js","pages/ControllerPage.js","App.js","index.js"],"names":["namespace","bemNames","create","blockName","block","concat","b","_len","arguments","length","more","Array","_key","classNames","e","className","_len2","_key2","m","_len3","_key3","bem","bn","Header","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","reactstrap_es","light","expand","style","backgroundColor","color","height","navbar","href","fontSize","textDecoration","marginRight","React","Component","sidebarBackground","background","navItems","to","name","exact","Icon","MdDashboard","role","Content","_ref","Tag","tag","restProps","objectWithoutProperties","classes","assign","defaultProps","Container","Footer","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Rebase","createClass","database","auth","GoogleAuthProvider","tagMap","objectSpread","PropTypes","ID","oneOfType","string","number","isRequired","component","func","date","instanceOf","Date","h1","h2","h3","h4","h5","h6","display-1","display-2","display-3","display-4","p","lead","blockquote","Typography","TypoComp","type","defineProperty","Page","title","breadcrumbs","children","components_Typography","map","_ref2","index","active","key","ThreePage","_this","start","frameId","requestAnimationFrame","animate","stop","cancelAnimationFrame","renderScene","window","renderer","render","scene","camera","match","params","state","loading","code","Math","ceil","random","toString","history","push","location","reload","console","log","threeLoader","setInterval","THREE","clearInterval","initConnection","setState","ref","child","on","snap","val","answer_success","_this2","localConnection","RTCPeerConnection","iceServers","url","optional","DtlsSrtpKeyAgreement","sendChannel","createDataChannel","onopen","onclose","onmessage","bind","document","ch","onicecandidate","set","offer","JSON","stringify","localDescription","then","create_offer","_this3","createOffer","setLocalDescription","catch","answer","_this4","answerDesc","RTCSessionDescription","parse","setRemoteDescription","_JSON$parse","data","pitch","roll","yaw","model","rotation","x","PI","y","mount","_this5","width","clientWidth","clientHeight","Scene","PerspectiveCamera","position","z","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","geometry","BoxGeometry","material","MeshLambertMaterial","cube","Mesh","objLoader","OBJLoader2","loadMtl","materials","Material","side","DoubleSide","setMaterials","load","event","root","detail","loaderRootNode","add","alight","AmbientLight","PointLight","removeChild","_this$state","components_Page","left","top","margin","marginTop","display","src","zIndex","lib","value","id","initThree","ControllerPage","handleScan","handleError","err","error","addEventListener","handleOrientation","assertThisInitialized","cfg","con","remoteConnection","ondatachannel","receiveChannelCallback","accept_offer","receiveChannel","channel","messenger","offerDesc","createAnswer","update","degree","smooth","beta","gamma","alpha","abs","send","d","react_qr_reader_lib_default","delay","onError","onScan","App","redirect","redirect_to","breakpoint","checkBreakpoint","user","routes","es","path","pages_ControllerPage","pages_ThreePage","header","Layout_Header","Layout_Content","fluid","Layout_Footer","componentQueries","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.f38e9e46.chunk.js","sourcesContent":["import classNames from 'classnames';\n\nexport const createBEM = namespace => {\n  return {\n    create: blockName => {\n      let block = blockName;\n\n      if (typeof namespace === 'string') {\n        block = `${namespace}-${blockName}`;\n      }\n\n      return {\n        b: (...more) => {\n          return classNames(block, more);\n        },\n        e: (className, ...more) => {\n          return classNames(`${block}__${className}`, more);\n        },\n        m: (className, ...more) => {\n          return classNames(`${block}--${className}`, more);\n        },\n      };\n    },\n  };\n};\n\nexport const bemNames = createBEM('cr');\n\nexport default bemNames;\n","import React from 'react';\n\nimport bn from 'utils/bemnames';\n\n\n\nimport {\n\tNavbar,\n\tNav,\n} from 'reactstrap';\n\n\n\nconst bem = bn.create('header');\n\nclass Header extends React.Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\n\t}\n\n\n\trender() {\n\n\t\treturn (\n\t\t\t\n\t\t\t<Navbar light expand style={{backgroundColor: \"black\", color: \"white\", height: \"70px\"}}>\n\t\t\t\t<Nav navbar>\n\t\t\t\t\t<a href=\"http://saquibalam.com\" style={{fontSize: \"1.4em\", textDecoration: \"none\", color: \"white\"}}><b>Saquib</b></a>\n\t\t\t\t\t\t\n\t\t\t\t</Nav>\n\n\t\t\t\t<Nav navbar className={bem.e('nav-right')}>\n\t\t\t\t\t<a href='http://saquibalam.com' style={{marginRight: \"30px\"}}>Profile</a>\n\t\t\t\t</Nav>\n\t\t\t</Navbar>\n\t\t);\n\t}\n}\n\nexport default Header;\n","import React from 'react';\n\nimport bn from 'utils/bemnames';\n\nimport {\n  Navbar,\n  Nav,\n  NavItem,\n  NavLink as BSNavLink,\n  // UncontrolledTooltip,\n  Collapse,\n} from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\n\nimport {\n  MdDashboard,\n  MdWidgets,\n  MdTextFields,\n  MdNotificationsActive,\n  MdBorderAll,\n  MdRadioButtonChecked,\n  MdWeb,\n  MdStar,\n  MdGroupWork,\n  MdArrowDropDownCircle,\n  MdBrush,\n  MdViewDay,\n  MdChromeReaderMode,\n  MdViewList,\n  MdInsertChart,\n  MdExtension,\n  MdSend,\n  MdKeyboardArrowDown,\n} from 'react-icons/lib/md';\nimport FaGithub from 'react-icons/lib/fa/github';\n\nimport SourceLink from 'components/SourceLink';\n\nconst sidebarBackground = {\n  // backgroundImage: 'url(\"/img/sidebar/sidebar-4.jpg\")',\n  // backgroundSize: 'cover',\n  // backgroundRepeat: 'no-repeat',\n  background: \"black\",\n};\n\n\nconst navItems = [\n  { to: '/', name: 'dashboard', exact: true, Icon: MdDashboard, role: 'user' },\n  { to: '/', name: 'dashboard', exact: true, Icon: MdDashboard, role: 'admin' },\n  { to: '/admin/users', name: 'Admin/User', exact: true, Icon: MdDashboard, role: \"admin\" },\n  // { to: '/publisher', name: 'publisher', exact: true, Icon: MdDashboard },\n  // { to: '/campaign', name: 'campaign', exact: true, Icon: MdDashboard },\n];\n\nconst bem = bn.create('sidebar');\n\n\nclass Sidebar extends React.Component {\n  constructor(props){\n    super(props)\n  }\n\n  state = {\n    isOpenComponents: true,\n    isOpenContents: true,\n  };\n\n  handleClick = name => () => {\n    this.setState(prevState => {\n      const isOpen = prevState[`isOpen${name}`];\n\n      return {\n        [`isOpen${name}`]: !isOpen,\n      };\n    });\n  };\n\n  render() {\n    let user_role = 'user'\n    let {authenticated, isadmin} = this.props\n    if(isadmin)\n      user_role = 'admin'\n    if(!authenticated){\n      return null\n    }\n\n    return (\n      <aside className={bem.b()} >\n        <div className={bem.e('background')} style={sidebarBackground} />\n        <div className={bem.e('content')}>\n\n          <Nav vertical style={{marginTop: \"150px\"}}>\n            {navItems.map(({ to, name, exact, Icon, role }, index) => {\n              if(role != user_role)\n                return\n              return (\n              <NavItem key={index} className={bem.e('nav-item')}>\n                <BSNavLink\n                  id={`navItem-${name}-${index}`}\n                  className=\"text-uppercase\"\n                  tag={NavLink}\n                  to={to}\n                  activeClassName=\"active\"\n                  exact={exact}\n                >\n                  <Icon className={bem.e('nav-item-icon')} size=\"1.5rem\" />\n                  <span className=\"\">{name}</span>\n                </BSNavLink>\n              </NavItem>\n            )})}\n\n\n          </Nav>\n        </div>\n      </aside>\n    );\n  }\n}\n\n/*\n            <SourceLink className=\"navbar-brand d-flex\">\n              <img\n                src=\"http://www.plakc.com/images2/black.png\"\n                width=\"40\"\n                height=\"30\"\n                className=\"pr-2\"\n                alt=\"\"\n              />\n              <span className=\"text-white\">\n                SpottLive\n              </span>\n            </SourceLink>\n\n\n*/\n\nexport default Sidebar;\n","import React from 'react';\n\nimport bn from 'utils/bemnames';\n\nimport { Container } from 'reactstrap';\n\nconst bem = bn.create('content');\n\nconst Content = ({ tag: Tag, className, ...restProps }) => {\n  const classes = bem.b(className);\n\n  return <Tag className={classes} {...restProps} />;\n};\n\nContent.defaultProps = {\n  tag: Container,\n};\n\nexport default Content;\n","import React from 'react';\n\nimport { Navbar, Nav, NavItem } from 'reactstrap';\n\nimport SourceLink from 'components/SourceLink';\n\nconst Footer = () => {\n\treturn (\"\")\n  return (\n    <Navbar>\n      <Nav navbar>\n        <NavItem>\n          2018 Asqil made with &hearts; in Sweden\n        </NavItem>\n      </Nav>\n    </Navbar>\n  );\n};\n\nexport default Footer;\n","import Rebase from 're-base';\nimport firebase from 'firebase';\n\n\n\n// var config = {\n// \tapiKey: \"AIzaSyBpP9gbbtlp5bqwjn9i_aKWXBf-kU2gK74\",\n// \tauthDomain: \"zerogames-158710.firebaseapp.com\",\n// \tdatabaseURL: \"https://zerogames-158710.firebaseio.com\",\n// \tprojectId: \"zerogames-158710\",\n// \tstorageBucket: \"zerogames-158710.appspot.com\",\n// \tmessagingSenderId: \"348531466471\"\n// }\n\nvar config = {\n    apiKey: \"AIzaSyAXOpZOiCozHSC6Hj23LRfsAjqo8fNMIO0\",\n    authDomain: \"compute-160011.firebaseapp.com\",\n    databaseURL: \"https://compute-160011.firebaseio.com\",\n    projectId: \"compute-160011\",\n    storageBucket: \"compute-160011.appspot.com\",\n    messagingSenderId: \"804087036155\"\n};\n\n\nconst app = firebase.initializeApp(config);\nconst base = Rebase.createClass(app.database())\n\nconst GoogleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport {app, base, GoogleAuthProvider}\n\n","import React from 'react';\nimport PropTypes from 'utils/propTypes';\n\nimport classNames from 'classnames';\n\nconst tagMap = {\n  h1: 'h1',\n  h2: 'h2',\n  h3: 'h3',\n  h4: 'h4',\n  h5: 'h5',\n  h6: 'h6',\n  'display-1': 'h1',\n  'display-2': 'h1',\n  'display-3': 'h1',\n  'display-4': 'h1',\n  p: 'p',\n  lead: 'p',\n  blockquote: 'blockquote',\n};\n\nconst types = Object.values(tagMap);\n\nconst Typography = ({ tag: Tag, className, type, ...restProps }) => {\n  const classes = classNames({ [type]: !!type }, className);\n  let TypoComp;\n\n  if (Tag) {\n    TypoComp = Tag;\n  } else if (!Tag && tagMap[type]) {\n    TypoComp = tagMap[type];\n  } else {\n    TypoComp = 'p';\n  }\n\n  return <TypoComp {...restProps} className={classes} />;\n};\n\nTypography.propTypes = {\n  tag: PropTypes.component,\n  className: PropTypes.string,\n  type: PropTypes.oneOf(types),\n};\n\nTypography.defaultProps = {\n  type: 'p',\n};\n\nexport default Typography;\n","import PropTypes from 'prop-types';\n\nexport default {\n  ...PropTypes,\n  ID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  component: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  date: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]),\n};\n","import React from 'react';\nimport PropTypes from 'utils/propTypes';\n\nimport bn from 'utils/bemnames';\n\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\n\nimport Typography from './Typography';\n\nconst bem = bn.create('page');\n\nconst Page = ({\n  title,\n  breadcrumbs,\n  tag: Tag,\n  className,\n  children,\n  ...restProps\n}) => {\n  const classes = bem.b('px-3', className);\n\n  return (\n    <Tag className={classes} {...restProps}>\n      <div className={bem.e('header')}>\n        {title && typeof title === 'string' ? (\n          <Typography type=\"h1\" className={bem.e('title')}>\n            {title}\n          </Typography>\n        ) : (\n            title\n          )}\n        {breadcrumbs && (\n          <Breadcrumb className={bem.e('breadcrumb')}>\n            <BreadcrumbItem>Home</BreadcrumbItem>\n            {breadcrumbs.length &&\n              breadcrumbs.map(({ name, active }, index) => (\n                <BreadcrumbItem key={index} active={active}>\n                  {name}\n                </BreadcrumbItem>\n              ))}\n          </Breadcrumb>\n        )}\n      </div>\n      {children}\n    </Tag>\n  );\n};\n\nPage.propTypes = {\n  tag: PropTypes.component,\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  className: PropTypes.string,\n  children: PropTypes.node,\n  breadcrumbs: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string,\n      active: PropTypes.bool,\n    })\n  ),\n};\n\nPage.defaultProps = {\n  tag: 'div',\n  title: '',\n};\n\nexport default Page;\n","import React from 'react';\n\nimport { getColor } from 'utils/colors';\nimport * as THREE from 'three';\nimport * as QRCode from 'qrcode.react';\n\n\n\n// var QRCode = require('qrcode.react');\n\nimport {app} from 'base.js' \n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash, faEdit, faChevronUp, faChevronDown, faBroom, faPlus } from '@fortawesome/free-solid-svg-icons'\n\nimport {\n\tRow,\n\tCol,\n} from 'reactstrap';\n\n\n\nimport Page from 'components/Page';\n\nconst iconStyle = {\n\tmarginLeft: '12px',\n\tcursor: 'pointer'\n}\n\nclass ThreePage extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tlet p = this.props.match.params\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\tcode: null\n\t\t}\n\t\tif(!p.code){\n\t\t\tvar code = (Math.ceil(Math.random()*8999) + 1000).toString()\n\t\t\tthis.props.history.push('/' + code)\n\t\t\twindow.location.reload();\n\t\t\treturn 0\n\t\t}\n\t\tthis.state.code = p.code\n\t\t// window.addEventListener('deviceorientation', this.handleOrientation.bind(this));\n\n\n\t\tconsole.log(this.state)\n\t\tthis.threeLoader = setInterval(()=>{\n\t\t\tif(!window.THREE)\n\t\t\t\treturn 0;\n\t\t\tconsole.log(\"Loaded assets\")\n\t\t\tclearInterval(this.threeLoader);\n\t\t\tthis.initConnection()\n\t\t\tthis.setState({loading: false})\n\t\t}, 1000);\n\n\t\tvar ref = app.database().ref().child('three/'+ this.state.code + \"/answer\");\n\t\tref.on(\"value\",(snap)=>{\n\t\t\tif(this.state.loading)\n\t\t\t\treturn 0\n\t\t\tsnap = snap.val()\n\t\t\tif(snap){\n\t\t\t\tconsole.log(\"connecting answer\")\n\t\t\t\tthis.answer_success(snap)\n\t\t\t}\n\t\t})\n\t} \n\tinitConnection(){\n\n\t\tvar cfg = {'iceServers': [{'url': 'stun:23.21.150.121'}]},\n\t\t\tcon = { 'optional': [{'DtlsSrtpKeyAgreement': true}] }\n\n\t\tthis.localConnection = new RTCPeerConnection(cfg, con);\n\n\n\t\tthis.sendChannel = this.localConnection.createDataChannel(\"sendChannel\");\n\n\t\tthis.sendChannel.onopen = e=>{console.log(\"channel open\")};\n\t\tthis.sendChannel.onclose = e=>{console.log(\"channel close\")};\n\t\tthis.sendChannel.onmessage = this.onmessage.bind(this);\n\t\tdocument.ch = this.sendChannel\n\n\t\tthis.localConnection.onicecandidate = e => {\n\n\t\t\tvar ref = app.database().ref().child('three/'+ this.state.code);\n\t\t\tref.set({offer: JSON.stringify(this.localConnection.localDescription)})\n\t\t\t.then((e)=>{\n\t\t\t\t// console.log(\"offer created\")\n\t\t\t})\n\t\t}\n\n\t\tthis.create_offer()\n\t}\n\tcreate_offer(){\n\t\tthis.localConnection.createOffer()\n\t\t.then(e => {\n\t\t\tthis.offer = e\n\t\t\t// Send to fire base\n\t\t\t// console.log(JSON.stringify(e))\n\n\t\t\tthis.localConnection.setLocalDescription(e)\n\n\t\t})\n\t\t.catch(e=>{console.log(\"offer error\")});\n\t}\n\tanswer_success(answer){\n\t\tvar answerDesc = new RTCSessionDescription(JSON.parse(answer||\"{}\"))\n\t\tconsole.log(answer)\n\t\tthis.localConnection.setRemoteDescription(answerDesc)\n\t\t.catch(e=>{console.log(\"answer error\", e); this.initConnection()});\n\t}\n\tonmessage(e){\n\t\tlet {pitch, roll, yaw} = JSON.parse(e.data);\n\t\tpitch -= 40\n\t\troll -= 70\n\t\t// this.cube.rotation.x = pitch*Math.PI/180.0\n\t\t// this.cube.rotation.y = roll*Math.PI/180.0\n\t\t// this.cube.rotation.z = yaw*Math.PI/180.0\n\n\t\tthis.model.rotation.x = pitch*Math.PI/180.0\n\t\tthis.model.rotation.y = roll*Math.PI/180.0\n\t}\n\t// handleOrientation(e){\n\t// \tlet pitch = e.beta;\n\t// \tlet roll = e.gamma\n\t// \tlet yaw = e.alpha\n\t// \tthis.cube.rotation.x = pitch*Math.PI/180.0\n\t// \tthis.cube.rotation.y = roll*Math.PI/180.0\n\t// \tthis.cube.rotation.z = yaw*Math.PI/180.0\n\t// }\n\t\n\tinitThree(mount){\n\t\tthis.mount = mount;\n\t\tconsole.log(\"loading three\")\n\n\t\tlet THREE = window.THREE\n\n\t\tconst width = this.mount.clientWidth\n\t\tconst height = this.mount.clientHeight\n\t\t//ADD SCENE\n\t\tthis.scene = new THREE.Scene()\n\t\t//ADD CAMERA\n\t\tthis.camera = new THREE.PerspectiveCamera( 75, width / height, 0.1, 1000 )\n\t\tthis.camera.position.z = 10\n\t\tthis.camera.position.y = 6\n\t\t//ADD RENDERER\n\t\tthis.renderer = new THREE.WebGLRenderer({ antialias: true })\n\t\tthis.renderer.setClearColor('#ffffff')\n\t\tthis.renderer.setSize(width, height)\n\t\tthis.mount.appendChild(this.renderer.domElement)\n\t\t//ADD CUBE\n\t\tconst geometry = new THREE.BoxGeometry(1, 1, 1)\n\t\tconst material = new THREE.MeshLambertMaterial({ color: '#433F81'     })\n\t\tthis.cube = new THREE.Mesh(geometry, material)\n\t\t// this.scene.add(this.cube)\n\n\t\t// Add Car\n\t\t// var loader = new THREE.OBJLoader2();\n\t\t// loader.load( 'obj/Avent.obj',  ( object ) => {\n\t\t// \t// object.rotation.z = Math.PI;\n\t\t// \tthis.scene.add( object );\n\t\t// } );\n\t\tconst objLoader = new THREE.OBJLoader2();\n\t\tobjLoader.loadMtl('https://threejsfundamentals.org/threejs/resources/models/windmill/windmill-fixed.mtl', null, (materials) => {\n\t\t  materials.Material.side = THREE.DoubleSide;\n\t\t  objLoader.setMaterials(materials);\n\t\t  objLoader.load('https://threejsfundamentals.org/threejs/resources/models/windmill/windmill.obj', (event) => {\n\t\t\tconst root = event.detail.loaderRootNode;\n\t\t\tthis.model = root\n\t\t\tthis.scene.add(root);\n\t\t  });\n\t\t});\n\n\t\t// Add light\n\t\tvar alight = new THREE.AmbientLight( 0xffffff ); // soft white light\n\t\tthis.scene.add( alight );\n\t\tvar light = new THREE.PointLight( 0xffffff, 1, 0, 1 );\n\t\tlight.position.set( 0, 0, 2 );\n\t\tthis.scene.add( light );\n\n\n\t\tthis.start()\n\t}\n \n\tcomponentDidMount(){\n\t\tif (!this.mount){\n\t\t\treturn\n\t\t}\n\n\t}\n\n\tcomponentWillUnmount(){\n\t\tthis.stop()\n\t\tthis.mount.removeChild(this.renderer.domElement)\n\t}\n\tstart = () => {\n\t\tif (!this.frameId) {\n\t\t\tthis.frameId = requestAnimationFrame(this.animate)\n\t\t}\n\t}\n\tstop = () => {\n\t\tcancelAnimationFrame(this.frameId)\n\t}\n\tanimate = () => {\n\t   // this.cube.rotation.x += 0.01\n\t   // this.cube.rotation.y += 0.01\n\t   // this.camera.position.y += 0.01\n\t   this.renderScene()\n\t   this.frameId = window.requestAnimationFrame(this.animate)\n\t}\n\trenderScene = () => {\n\t\tthis.renderer.render(this.scene, this.camera)\n\t}\n\trender() {\n\t\tlet {loading, code} = this.state;\n\t\tif(loading || !code){\n\t\t\treturn (\n\t\t\t\t<Page className=\"LoadPage\">\n\t\t\t\t\t<div style={{width: \"100%\", height: \"100%\", left: 0, top: 0, position: \"fixed\", background: \"white\"}}>\n\t\t\t\t\t\t<img style={{margin: \"auto\", marginTop: \"30vh\", display: \"block\"}} src=\"loader.gif\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Page>\t\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Page className=\"ThreePage\" style={{width: \"100%\", zIndex: 10, marginTop: \"50px\"}}>\n\n\t\t\t\t<QRCode style={{position: \"fixed\", top: \"100px\"}} value={code} />\n\t\t\t\t<div id=\"mount\" style={{ width: '100%', height: '70vh' }} ref={this.initThree.bind(this)}/>\n\t\t\t\t\n\n\t\t\t</Page>\n\t\t)\n\t}\n}\nexport default ThreePage;\n\n\n\n","import React from 'react';\n\nimport { getColor } from 'utils/colors';\nimport * as THREE from 'three';\n\nimport QrReader from 'react-qr-reader'\n\nimport {app} from 'base.js'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash, faEdit, faChevronUp, faChevronDown, faBroom, faPlus } from '@fortawesome/free-solid-svg-icons'\n\nimport {\n\tRow,\n\tCol,\n\n} from 'reactstrap';\n\n\nimport Page from 'components/Page';\n\nconst iconStyle = {\n\tmarginLeft: '12px',\n\tcursor: 'pointer'\n}\n\nclass ControllerPage extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\tcode: null\n\t\t}\n\t\tlet p = this.props.match.params\n\t\tif(p.code){\n\t\t\tthis.state.code = p.code\n\t\t}\n\t\twindow.addEventListener('deviceorientation', this.handleOrientation.bind(this));\n\t\t// window.addEventListener('devicemotion', this.handleOrientation.bind(this));\n\n\n\t\tvar cfg = {'iceServers': [{'url': 'stun:23.21.150.121'}]},\n\t\t\tcon = { 'optional': [{'DtlsSrtpKeyAgreement': true}] }\n\n\t\tthis.remoteConnection = new RTCPeerConnection(cfg, con);\n\t\tthis.remoteConnection.ondatachannel = this.receiveChannelCallback.bind(this);\n\n\n\t\tvar ref = app.database().ref().child('three/'+ this.state.code + \"/offer\");\n\t\tref.on(\"value\", (snap)=>{\n\t\t\tsnap = snap.val()\n\t\t\tif(snap){\n\t\t\t\tthis.remoteConnection = new RTCPeerConnection(cfg, con);\n\t\t\t\tthis.remoteConnection.ondatachannel = this.receiveChannelCallback.bind(this);\n\t\t\t\tconsole.log(\"Acceting offer\")\n\t\t\t\tthis.accept_offer(snap)\n\t\t\t}\n\t\t})\n\n\t} \n\treceiveChannelCallback(event) {\n\t\tconsole.log(\"receiveChannel set\")\n\t\tthis.receiveChannel = event.channel;\n\t\tdocument.ch = event.channel\n\t\tthis.receiveChannel.onmessage = (e) => {console.log(e.data)};\n\t\tthis.receiveChannel.onopen = (e) => {console.log(\"open\")};\n\t\tthis.receiveChannel.onclose = (e) => {console.log(\"close\")};\n\t\tthis.messenger = this.receiveChannel\n\t }\n\taccept_offer(offer){\n\t\tvar offerDesc = new RTCSessionDescription(JSON.parse(offer||\"{}\"))\n\t\tthis.remoteConnection.setRemoteDescription(offerDesc)\n\t\t.then(() => this.remoteConnection.createAnswer())\n\t\t.then(e => {\n\t\t\tvar answer = e\n\t\t\tthis.remoteConnection.setLocalDescription(answer)\n\n\n\t\t\tvar ref = app.database().ref().child('three/'+ this.state.code);\n\t\t\tref.update({answer: JSON.stringify(answer)})\n\t\t\t.then((e)=>{\n\t\t\t\tconsole.log(\"answer created\")\n\t\t\t})\n\t\t})\n\t\t.catch(e=> {console.log(\"erroe accepting offer\")});\n\t}\n\tsmooth(degree){\n\t\treturn degree\n\t\treturn (degree + 360)%360\n\t}\n\thandleOrientation(e){\n\t\tlet {code} = this.state\n\t\tif(!code)\n\t\t\treturn\n\n\t\tlet pitch = this.smooth(e.beta);\n\t\tlet roll = this.smooth(e.gamma)\n\t\tlet yaw = this.smooth(e.alpha)\n\t\t\n\t\tif(Math.abs(pitch) > 90){\n\t\t\tpitch = 180-pitch\n\t\t\troll = roll - 180\n\t\t\tyaw = yaw - 180\n\t\t}\n\n\t\tthis.cube.rotation.x = pitch*Math.PI/180.0\n\t\tthis.cube.rotation.y = roll*Math.PI/180.0\n\t\tthis.cube.rotation.z = yaw*Math.PI/180.0\n\t\t// Send message\n\t\tif(this.messenger){\n\t\t\tthis.messenger.send(JSON.stringify({pitch, roll, yaw}))\n\t\t\tthis.setState({data: JSON.stringify({pitch, roll, yaw})})\n\t\t}\n\t}\n\t\n\n\tcomponentDidMount(){\n\t\tif (!this.mount){\n\t\t\treturn\n\t\t}\n\t\tthis.initThree()\n\t}\n\tinitThree(){\n\t\tconst width = this.mount.clientWidth\n\t\tconst height = this.mount.clientHeight\n\t\t//ADD SCENE\n\t\tthis.scene = new THREE.Scene()\n\t\t//ADD CAMERA\n\t\tthis.camera = new THREE.PerspectiveCamera( 75, width / height, 0.1, 1000 )\n\t\tthis.camera.position.z = 4\n\t\t//ADD RENDERER\n\t\tthis.renderer = new THREE.WebGLRenderer({ antialias: true })\n\t\tthis.renderer.setClearColor('#ffffff')\n\t\tthis.renderer.setSize(width, height)\n\t\tthis.mount.appendChild(this.renderer.domElement)\n\t\t//ADD CUBE\n\t\tconst geometry = new THREE.BoxGeometry(1, 1, 1)\n\t\tconst material = new THREE.MeshLambertMaterial({ color: '#433F81'     })\n\t\tthis.cube = new THREE.Mesh(geometry, material)\n\t\tthis.scene.add(this.cube)\n\n\n\t\t// Add light\n\t\tvar alight = new THREE.AmbientLight( 0xffffff ); // soft white light\n\t\tthis.scene.add( alight );\n\t\tvar light = new THREE.PointLight( 0xffffff, 1, 0, 1 );\n\t\tlight.position.set( 0, 0, 2 );\n\t\tthis.scene.add( light );\n\n\n\t\tthis.start()\n\t}\n\tcomponentWillUnmount(){\n\t\tthis.stop()\n\t\tthis.mount.removeChild(this.renderer.domElement)\n\t}\n\tstart = () => {\n\t\tif (!this.frameId) {\n\t\t\tthis.frameId = requestAnimationFrame(this.animate)\n\t\t}\n\t}\n\tstop = () => {\n\t\tcancelAnimationFrame(this.frameId)\n\t}\n\tanimate = () => {\n\t   // this.cube.rotation.x += 0.01\n\t   // this.cube.rotation.y += 0.01\n\t   // this.camera.position.y += 0.01\n\t   this.renderScene()\n\t   this.frameId = window.requestAnimationFrame(this.animate)\n\t}\n\trenderScene = () => {\n\t\tthis.renderer.render(this.scene, this.camera)\n\t}\n\thandleScan = data => {\n\t\tif (data) {\n\t\t\tthis.props.history.push('/control/' + data)\n\t\t\twindow.location.reload()\n\t\t //  this.setState({\n\t\t\t// code: data\n\t\t //  })\n\t\t //  this.initThree()\n\t\t}\n\t}\n\thandleError = err => {\n\t\tconsole.error(err)\n\t}\n\trender() {\n\t\tlet {loading, code, data} = this.state;\n\t\tlet d = null;\n\t\tif(data)\n\t\t\td = <span>{data}</span>\n\t\tif(loading){\n\t\t\treturn (\n\t\t\t\t<Page className=\"LoadPage\">\n\t\t\t\t\t<div style={{width: \"100%\", height: \"100%\", left: 0, top: 0, position: \"fixed\", background: \"white\"}}>\n\t\t\t\t\t\t<img style={{margin: \"auto\", marginTop: \"30vh\", display: \"block\"}} src=\"loader.gif\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Page>\t\n\t\t\t)\n\t\t}\n\t\tif(!code){\n\t\t\treturn (\n\t\t\t\t<Page className=\"ControllerPage\" style={{width: \"100%\", zIndex: 10, marginTop: \"100px\"}}>\n\t\t\t\t\t<QrReader\n\t\t\t\t\t  delay={300}\n\t\t\t\t\t  onError={this.handleError}\n\t\t\t\t\t  onScan={this.handleScan}\n\t\t\t\t\t  style={{ width: '100%' }}\n\t\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t</Page>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Page className=\"ControllerPage\" style={{width: \"100%\", zIndex: 10, marginTop: \"100px\"}}>\n\t\t\t\t<p>{this.state.code}</p>\n\t\t\t\t<div id=\"mount\" style={{ width: '100%', height: '400px' }} ref={(mount) => { this.mount = mount }}/>\n\t\t\t\t{d}\n\t\t\t</Page>\n\t\t)\n\t}\n}\nexport default ControllerPage;\n\n\n\n","// Used- https://reduction-admin.firebaseapp.com/\n\nimport React from 'react';\n\nimport componentQueries from 'react-component-queries';\n\n\n\nimport { HashRouter, BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\n// layouts\nimport { Header, Sidebar, Content, Footer } from 'components/Layout';\n\n\n// pages\n\nimport ThreePage from 'pages/ThreePage';\nimport ControllerPage from 'pages/ControllerPage';\n\nimport Page from 'components/Page';\n\n\nimport './styles/reduction.css';\n\nclass App extends React.Component {\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\tredirect: false,\n\t\t\tredirect_to: \"\",\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps({ breakpoint }) {\n\t\tif (breakpoint !== this.props.breakpoint) {\n\t\t\tthis.checkBreakpoint(breakpoint);\n\t\t}\n\t}\n\n\tcomponentWillMount(){\n\n\t}\n\n\tcomponentWillUnmount(){\n\t}\n\n\n\tcomponentDidMount() {\n\t\tthis.checkBreakpoint(this.props.breakpoint);\n\n\t\tif(this.state.redirect){\n\t\t\tconsole.log(\"Redirect to\", this.state.redirect_to)\n\t\t\treturn 0\n\t\t}\n\n\t}\n\n\n\tcheckBreakpoint(breakpoint) {\n\t\tswitch (breakpoint) {\n\t\t\tcase 'xs':\n\t\t\tcase 'sm':\n\t\t\tcase 'md':\n\t\t\t\t// return this.openSidebar('close');\n\n\t\t\tcase 'lg':\n\t\t\tcase 'xl':\n\t\t\tdefault:\n\t\t\t\t// return this.openSidebar('open');\n\t\t}\n\t}\n\n\n\trender() {\n\t\tlet {user} = this.state;\n\t\tif(this.state.loading){\n\t\t\treturn (\n\t\t\t\t<Page className=\"LoadPage\">\n\t\t\t\t\t<div style={{width: \"100%\", height: \"100%\", left: 0, top: 0, position: \"fixed\", background: \"white\"}}>\n\t\t\t\t\t\t<img style={{margin: \"auto\", marginTop: \"30vh\", display: \"block\"}} src=\"/loader.gif\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Page>\t\n\t\t\t)\n\t\t}\n\t\tlet routes = (\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/control\"  render={(props) => <ControllerPage {...props}/>}/>\n\t\t\t\t\t<Route exact path=\"/control/:code\"  render={(props) => <ControllerPage {...props}/>}/>\n\t\t\t\t\t<Route exact path=\"/\"  render={(props) => <ThreePage {...props}/>}/>\n\t\t\t\t\t<Route exact path=\"/:code\"  render={(props) => <ThreePage {...props}/>}/>\n\t\t\t\t</Switch>\n\t\t\t)\n\t\tlet header = <Header />;\n\t\t\n\n\t\treturn (\n\t\t\t<HashRouter>\n\t\t\t\t<main className=\"cr-app bg-light\">\n\t\t\t\t\t<Content fluid >\n\t\t\t\t\t\t{header}\n\t\t\t\t\t\t{routes}\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</Content>\n\t\t\t\t</main>\n\t\t\t</HashRouter>\n\t\t);\n\t}\n}\n\nconst query = ({ width }) => {\n\tif (width < 575) {\n\t\treturn { breakpoint: 'xs' };\n\t}\n\n\tif (576 < width && width < 767) {\n\t\treturn { breakpoint: 'sm' };\n\t}\n\n\tif (768 < width && width < 991) {\n\t\treturn { breakpoint: 'md' };\n\t}\n\n\tif (992 < width && width < 1199) {\n\t\treturn { breakpoint: 'lg' };\n\t}\n\n\tif (width > 1200) {\n\t\treturn { breakpoint: 'xl' };\n\t}\n\n\treturn { breakpoint: 'xs' };\n};\n\nexport default componentQueries(query)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}